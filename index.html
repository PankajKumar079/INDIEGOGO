<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>INDIEGOGO — Crowdfunding Marketplace (inspired UI)</title>
  <style>
    :root {
      --brand: #EB1478;        /* Indiegogo style main colour */
      --accent: #eb1478;       /* darker-pink accent */
      --muted: #ac24ac;        /* muted text */
      --card: #ffffff;         /* card background */
      --bg: #d9d9d9;           /* light pink-purple background */
      font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    }
    html, body {
      height:100%;
      margin:0;
      background: var(--bg);
      color: #111;
    }
    .topbar {
      background: white;
      color: rgb(0, 0, 0);
      padding: 6px 16px;
      font-size:14px;
      display:flex;
      align-items:center;
      justify-content: space-between;
    }
    .topbar .left, .topbar .right {
      background: #fdfdfd;
      display:flex;
      align-items:center;
      gap:12px;
    }
    .logo {
      display:flex;
      align-items:center;
      gap:8px;
      font-weight:700;
    }
    .logo .mark {
      background: var(--accent);
      color: #eceaea;
      padding:6px 8px;
      border-radius:4px;
      font-weight:800;
    }

    .searchbar {
      flex:1;
      max-width:720px;
      margin:8px;
      display:flex;
      align-items:center;
    }
    .searchbar input {
      flex:1;
      padding:10px;
      border-radius:4px 0 0 4px;
      border:1px solid #ddd;
      font-size:16px;
    }
    .searchbar button {

      padding:10px 14px;
      border-radius:0 4px 4px 0;
      border:1px solid #ddd;
      background: var(--accent);
      font-weight:700;
      cursor:pointer;
      color: white;
    }

    .nav {
      background:#d7689c;
      color:white;
      padding:10px 16px;
      display:flex;
      gap:18px;
      align-items:center;
      font-size:14px;
    }

    .container {
      max-width:1200px;
      margin:20px auto;
      padding:0 16px;
    }
    .hero {
      display:flex;
      gap:16px;
    }
    .hero .left {
      flex:3;
      background:linear-gradient(180deg,#fff 0,#fff);
      padding:18px;
      border-radius:6px;
      box-shadow:0 2px 8px rgba(0,0,0,0.06);
    }
    .hero .right {
      flex:1;
    }
    .hero .hero-banner {
      height:260px;
      border-radius:6px;
      display:flex;
      align-items:center;
      justify-content:center;
      background:linear-gradient(90deg,var(--brand),#ffd2e8);
      color:#111;
      font-weight:800;
      font-size:28px;
      text-align:center;
    }

    .categories {
      display:flex;
      gap:8px;
      margin-top:12px;
    }
    .cat {
      background:white;
      padding:10px 12px;
      border-radius:6px;
      box-shadow:0 1px 3px rgba(0,0,0,0.06);
      font-size:13px;
      white-space:nowrap;
    }

    .cards {
      display:grid;
      grid-template-columns:repeat(auto-fill, minmax(260px,1fr));
      gap:16px;
      margin-top:18px;
    }
    .card {
      background: var(--card);
      padding:14px;
      border-radius:8px;
      box-shadow:0 2px 8px rgba(0,0,0,0.06);
      display:flex;
      flex-direction:column;
      cursor:pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .card:hover {
      transform: scale(1.02);
      box-shadow:0 4px 12px rgba(0,0,0,0.1);
    }
    .card img {
      width:100%;
      height:160px;
      object-fit:cover;
      border-radius:6px;
    }
    .card h3 {
      margin:10px 0 6px;
      font-size:16px;
    }
    .meta {
      font-size:13px;
      color: var(--muted);
    }
    .progress {
      height:10px;
      background:#eee;
      border-radius:999px;
      margin-top:8px;
      overflow:hidden;
    }
    .progress > span {
      display:block;
      height:100%;
      background:linear-gradient(90deg, var(--accent), #ffb6d6);
    }
    .cta {
      margin-top:10px;
      display:flex;
      gap:8px;
    }
    .btn {
      padding:8px 10px;
      border-radius:6px;
      border:none;
      cursor:pointer;
    }
    .btn-primary {
      background: var(--brand);
      color: white;
    }
    .btn-ghost {
      background: transparent;
      border: 1px solid var(--accent);
      color: var(--brand);
    }

    footer {
      background:#111827;
      color:#cbd5e1;
      padding:24px 16px;
      margin-top:28px;
    }
    .footer-grid {
      max-width:1200px;
      margin:0 auto;
      display:grid;
      grid-template-columns:repeat(auto-fit, minmax(180px,1fr));
      gap:16px;
    }
    .footer-grid h4 {
      color:#fff;
      margin-bottom:8px;
    }

    /* Modal styles (already present in your CSS; reuse for product modal) */
    .modal {
      position:fixed;
      inset:0;
      background:rgba(0,0,0,0.6);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:50;
    }
    .modal.active {
      display:flex;
    }
    .modal-content {
      background:white;
      border-radius:8px;
      padding:20px;
      max-width:420px;
      width:100%;
      box-shadow:0 4px 20px rgba(0,0,0,0.2);
      position:relative;
    }
    .modal-content h3 {
      margin-top:0;
    }
    .modal-content img {
      width:100%;
      border-radius:6px;
      margin-bottom:12px;
    }
    .modal-content .close {
      position:absolute;
      right:12px;
      top:12px;
      cursor:pointer;
      color:#999;
      font-size:20px;
      background:transparent;
      border:none;
    }

    @media (max-width:900px){
      .hero {
        flex-direction:column;
      }
      .searchbar {
        max-width:100%;
      }
    }
  </style>
</head>
<body>
  <div class="topbar">
    <div class="left">
      <div class="logo"><div>
    </div>
    <img src="https://cdn.static.indiegogo.com/content/20251107.4-13/images/static/logo/site-logo.svg" alt="INDIEGOGO">
</div>
    </div>
    <div class="searchbar">
      <input id="q" placeholder="Search campaigns, tech, design, gadgets..." />
      <button onclick="doSearch()">Search</button>
    </div>
    <div class="right">
      <div style="font-size:13px;cursor:pointer" onclick="openLoginModal()">Account</div>
      
      <button class="btn btn-ghost" onclick="openRegisterModal()">Sign Up</button>
    </div>
  </div>

  <div class="nav">
    <div style="font-weight:700">Home</div>
      <div> <a href="Games.html">Games</a></div>
    <div> <a href="Design.html">Design</a></div>
      <div> <a href="Electronics.html">Electronics</a></div>
  </div>

  <main class="container">
    <section class="hero">
      <div class="left">
        <div class="hero-banner"><img src="image.jpg" alt="myimage"></div>
        <div class="categories" aria-hidden>
        </div>
        <h2 style="margin-top:18px">Popular campaigns</h2>
        <div class="cards" id="cards"></div>
      </div>
      <aside class="right">
        <div style="background:white;padding:12px;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.06)">
          <h3 style="margin:0 0 8px">Get started</h3>
          <p style="margin:0 0 12px;font-size:14px;color:var(--muted)">Sign in to start backing campaigns or create your own.</p>
          <div style="display:flex;gap:8px">
            <button class="btn btn-primary" onclick="openLoginModal()">Sign in</button>
            <button class="btn btn-ghost" onclick="openRegisterModal()">Create account</button>
          </div>
        </div>
        <div style="margin-top:12px;background:white;padding:12px;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.06)">
          <h4 style="margin:0 0 8px">Dashboard</h4>
          <p style="margin:0 0 12px;color:var(--muted)">Funds gathered</p>
          <button class="btn btn-primary" style="width:100%" onclick="alert('Start project placeholder')"><a href="Dashboard.html">Take a peek</a></button>
        </div>
      </aside>
    </section>
  </main>

  <footer>
    <div class="footer-grid">
      <div><h4>INDIEGOGO</h4><div class="meta">An independent crowdfunding marketplace — interface inspired by big e-commerce layouts.</div></div>
      <div><h4>Discover</h4><div>Popular campaigns</div><div>Categories</div><div>New launches</div></div>
      <div><h4>About</h4><div>How it works</div><div>Creators</div><div>Resources</div></div>
      <div><h4>Help</h4><div>Contact</div><div>FAQ</div><div>Refund policy</div></div>
    </div>
    <div style="max-width:1200px;margin:18px auto 0;padding:0 16px;color:#9ca3af;font-size:13px">© <span id="year"></span> INDIEGOGO — All rights reserved</div>
  </footer>

  <!-- Product Modal (NEW) -->
  <div class="modal" id="productModal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="productModalTitle">
      <button class="close" aria-label="Close product details" onclick="closeProductModal()">&times;</button>
      <img id="productModalImage" src="" alt="Product image">
      <h3 id="productModalTitle"></h3>
      <div id="productModalAuthor" class="meta"></div>
      <div id="productModalStats" style="margin-top:8px;font-size:13px;color:var(--muted)"></div>
      <div style="margin-top:12px;display:flex;gap:8px;justify-content:center;">
        <button class="btn btn-primary" onclick="alert('Back this project (placeholder)')">Back this</button>
        <button class="btn btn-ghost" onclick="navigator.clipboard?.writeText(location.href+'#campaign='+document.getElementById('productModalTitle').dataset.id).then(()=>alert('Link copied'))">Share</button>
      </div>
    </div>
  </div>

  <!-- Login Modal -->
  <div class="modal" id="loginModal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('loginModal')">&times;</span>
      <h3>Login to your account</h3>
      <input type="email" id="loginEmail" placeholder="Email" required />
      <input type="password" id="loginPassword" placeholder="Password" required />
      <button class="btn btn-primary" style="width:100%" onclick="login()">Login</button>
      <p style="text-align:center;margin-top:12px;font-size:13px">Don't have an account? <a href="#" onclick="switchToRegister()">Register here</a></p>
    </div>
  </div>

  <!-- Register Modal -->
  <div class="modal" id="registerModal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('registerModal')">&times;</span>
      <h3>Create an account</h3>
      <input type="text" id="regName" placeholder="Full Name" required />
      <input type="email" id="regEmail" placeholder="Email" required />
      <input type="password" id="regPassword" placeholder="Password" required />
      <button class="btn btn-primary" style="width:100%" onclick="register()">Register</button>
      <p style="text-align:center;margin-top:12px;font-size:13px">Already have an account? <a href="#" onclick="switchToLogin()">Login here</a></p>
    </div>
  </div>

  <script>
    document.getElementById('year').innerText = new Date().getFullYear();

    const sample = [
      {
        id: 1,
        title: 'SolarCharge Pro — Pocket solar generator',
        author: 'SunLab',
        pledged: 52000,
        goal: 100000,
        backers: 842,
        days: 12,
        image: 'https://images.unsplash.com/photo-1697665896499-121af27e0030?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NDJ8fFBvY2tldCUyMHNvbGFyJTIwZ2VuZXJhdG9yfGVufDB8fDB8fHww&auto=format&fit=crop&q=60'
      },
      {
        id: 2,
        title: 'Foldable Bike for City',
        author: 'UrbanMove',
        pledged: 75000,
        goal: 50000,
        backers: 420,
        days: 3,
        image: 'https://plus.unsplash.com/premium_photo-1677564626330-d68fabb71930?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8Zm9sZGFibGUlMjBiaWtlJTIwZm9yJTIwY2l0eXxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&q=60'
      },
      {
        id: 3,
        title: 'Match Box',
        author: 'Keshav Bhardwaj',
        pledged: 25000,
        goal: 100000,
        backers: 35,
        days: 25,
        image: 'https://i.pinimg.com/1200x/39/c1/f8/39c1f83918ba9a80d6530faeda2bcbbf.jpg'
            },
      {
        id: 4,
        title: 'Retro Arcade Console',
        author: 'PlayBox',
        pledged: 66000,
        goal: 50000,
        backers: 1034,
        days: 5,
        image: 'https://images.unsplash.com/photo-1721372261034-525a25737f5f'
      },
      {
        id: 5,
        title: 'Noise-cancelling Sleep Mask',
        author: 'QuietCo',
        pledged: 9000,
        goal: 8000,
        backers: 212,
        days: 2,
        image: 'https://media.istockphoto.com/id/1150073564/photo/gray-modern-mask-for-sleeping-lies-on-a-white-pillow-healthy-and-comfortable-sleep.webp?a=1&b=1&s=612x612&w=0&k=20&c=eT-olVnkHrzN9qK6hMZqbiCWIlWziZ3XtsfezF1g7C8='
      },
      {
        id: 6,
        title: 'Spider-Man: The Book of Peter',
        author: 'Holden T Hardman',
        pledged: 5150,
        goal: 8000,
        backers: 793,
        days: 2,
        image: 'https://cdn.images.indiegogo.com/projectimage/projects/39853/5b4463dc-ea95-409b-93dd-1252f765e10d.jpg'
      },
      {
        id: 7,
        title: 'Librarian',
        author: 'Caelan Conrad',
        pledged: 9934,
        goal: 20000,
        backers:450,
        days: 5,
        image: 'https://cdn.images.indiegogo.com/projectimage/projects/41110/a4945609-3285-4e6b-a274-0dd6193f8e4e.jpg'
      },
      {
        id: 8,
        title: 'The R I.P Man 2',
        author: 'Rhys Thompson',
        pledged: 3885,
        goal: 5000,
        backers:699,
        days: 20,
        image: 'https://cdn.images.indiegogo.com/projectimage/projects/42658/5341f544-397b-4465-81dd-9011c9a1e1f9.jpg'
      },
       {
        id: 9,
        title: 'MamaCRM, Your Social Media Marketing Assistant',
        author: 'Orestis Michael',
        pledged: 9303,
        goal: 10000,
        backers:1200,
        days: 30,
        image: 'https://cdn.images.indiegogo.com/projectimage/projects/34484/c6b0ae22-4438-49a8-bfd6-a0859832ab91.png'
      },
       {
        id: 10,
        title: 'Stream Your Photos on Digital Billboards For Free!',
        author: 'United For Humanity',
        pledged: 6705,
        goal: 10000,
        backers:480,
        days: 24,
        image: 'https://cdn.images.indiegogo.com/projectimage/projects/40119/22d0c49a-76d2-496f-972b-ab6676ec9546.png'
      },
       {
        id: 11,
        title: 'America Down: A Post-Apocalyptic Feature Film',
        author: 'Lucas Harmon',
        pledged: 12011,
        goal: 12000,
        backers:900,
        days: 30,
        image: 'https://cdn.images.indiegogo.com/projectimage/projects/41337/d02ff551-7431-4494-8671-87fb0356f02d.png'
      },
             {
        id: 12,
        title: 'In Between - A Gay Romantic Comedy',
        author: 'Nicholas Molencupp',
        pledged: 10180,
        goal: 15000,
        backers:1230,
        days: 45,
        image: 'https://cdn.images.indiegogo.com/projectimage/projects/40912/43022915-61a9-4f96-a5e6-dc188bd4fb69.png'
      },
      {
  id: 1,
  title: 'StarForge: Origins',
  author: 'Nebula Interactive',
  pledged: 52000,
  goal: 100000,
  backers: 842,
  days: 12,
  image:'https://images.unsplash.com/photo-1549817658-09b3cd5db1d4?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8U3RhckZvcmdlJTNBJTIwT3JpZ2luc3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&q=60'
},
{
  id: 2,
  title: 'Urban Drift – Street Racing Reborn',
  author: 'Velocity Studios',
  pledged: 75000,
  goal: 50000,
  backers: 420,
  days: 3,
  image: 'https://plus.unsplash.com/premium_photo-1736113359341-a9236e5b14b8?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8VXJiYW4lMjBEcmlmdCUyMCVFMiU4MCU5MyUyMFN0cmVldCUyMFJhY2luZyUyMFJlYm9ybiUyMGFuaW1hdGVkfGVufDB8fDB8fHww&auto=format&fit=crop&q=60'
},
{
  id: 3,
  title: 'MatchBox Arena',
  author: 'Ignite Games',
  pledged: 25000,
  goal: 100000,
  backers: 35,
  days: 25,
  image:'https://images.unsplash.com/photo-1687838453977-df478e1e4514?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MzV8fE1hdGNoQm94JTIwQXJlbmF8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&q=60'
},
{
  id: 4,
  title: 'Retro Rewind: Arcade Legends',
  author: 'PlayBox Studios',
  pledged: 66000,
  goal: 50000,
  backers: 1034,
  days: 5,
  image: 'http://plus.unsplash.com/premium_photo-1674461536265-3bbc3d875dfb?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8UmV0cm8lMjBSZXdpbmQlM0ElMjBBcmNhZGUlMjBMZWdlbmRzfGVufDB8fDB8fHww&auto=format&fit=crop&q=60'
},
{
  id: 5,
  title: 'DreamScape VR',
  author: 'QuietCore Interactive',
  pledged: 9000,
  goal: 8000,
  backers: 212,
  days: 2,
  image: 'https://images.unsplash.com/photo-1760753145427-c327d09ace00?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8RHJlYW1TY2FwZSUyMFZSfGVufDB8fDB8fHww&auto=format&fit=crop&q=60'
},
{
  id: 6,
  title: 'Spider-Man: Shadows of Manhattan',
  author: 'Insomniac Studios',
  pledged: 5150,
  goal: 8000,
  backers: 793,
  days: 2,
  image:'http://images.unsplash.com/photo-1760954185931-40d5b65fbb86?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTh8fFNwaWRlci1NYW4lMjB3aXRoJTIwYnVpbGRpbmd8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&q=60'
},
{
  id: 7,
  title: 'The Librarian: Lost Archives',
  author: 'Caelan Interactive',
  pledged: 9934,
  goal: 20000,
  backers: 450,
  days: 5,
  image: 'http://images.unsplash.com/photo-1746402119940-937bfd0f3ce2?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTJ8fFRoZSUyMExpYnJhcmlhbiUzQSUyMExvc3QlMjBBcmNoaXZlc3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&q=60'
},
{
  id: 8,
  title: 'The R.I.P. Man 2: Return of the Reaper',
  author: 'Rhys Games Studio',
  pledged: 3885,
  goal: 5000,
  backers: 699,
  days: 20,
 image: 'https://images.unsplash.com/photo-1646455724625-e727fd1d7887?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8VGhlJTIwUi5JLlAuJTIwTWFuJTIwMiUzQSUyMFJldHVybiUyMG9mJTIwdGhlJTIwUmVhcGVyfGVufDB8fDB8fHww&auto=format&fit=crop&q=60'
},
{
  id: 9,
  title: 'MamaCraft – Build Your World',
  author: 'Orestis Games',
  pledged: 9303,
  goal: 10000,
  backers: 1200,
  days: 30,
  image: 'https://media.istockphoto.com/id/1480746375/photo/town-world-in-space.webp?a=1&b=1&s=612x612&w=0&k=20&c=PJpWfCDBfnFfjct6VcVU9uT7p8jOGep8gkhW46SFlmo='
},
{
  id: 10,
  title: 'StreamScape: Live in the Game',
  author: 'United Studios',
  pledged: 6705,
  goal: 10000,
  backers: 480,
  days: 24,
  image: 'https://images.unsplash.com/file-1715652217532-464736461acbimage?auto=format&fit=crop&q=60&w=416&dpr=2'
},
{
  id: 11,
  title: 'America Down: Rebirth',
  author: 'Harmon Games',
  pledged: 12011,
  goal: 12000,
  backers: 900,
  days: 30,
  image:'https://images.unsplash.com/photo-1622629217826-b38a5a19f2dc?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NDR8fEFtZXJpY2ElMjBEb3duJTNBJTIwUmViaXJ0aHxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&q=60'
},
{
  id: 12,
  title: 'In Between – A Love Story Reloaded',
  author: 'Nicholas Games',
  pledged: 10180,
  goal: 15000,
  backers: 1230,
  days: 45,
  image: 'https://images.unsplash.com/photo-1628508006164-997f40c7ecce?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTZ8fCdJbiUyMEJldHdlZW4lMjAlRTIlODAlOTMlMjBBJTIwTG92ZSUyMFN0b3J5JTIwUmVsb2FkZWQlMjBnYW1lfGVufDB8fDB8fHww&auto=format&fit=crop&q=60'
},
    ];

    function pct(p, g){
      return Math.min(100, Math.round(p/g * 100));
    }
    function renderCards(list){
      const el = document.getElementById('cards');
      el.innerHTML = '';
      list.forEach(c => {
        const card = document.createElement('div');
        card.className = 'card';
        // click handler replaced to open modal
        card.addEventListener('click', () => {
          openProductModal(c);
        });

        const img = document.createElement('img'); img.src = c.image; img.alt = c.title;
        const h = document.createElement('h3'); h.innerText = c.title;
        const m = document.createElement('div'); m.className = 'meta'; m.innerText = c.author + ' • ' + c.backers + ' backers';
        const prog = document.createElement('div'); prog.className = 'progress'; const inner = document.createElement('span'); inner.style.width = pct(c.pledged, c.goal) + '%'; prog.appendChild(inner);
        const info = document.createElement('div'); info.style.display='flex'; info.style.justifyContent='space-between'; info.style.alignItems='center'; info.style.marginTop='8px';
        const left = document.createElement('div'); left.innerHTML = '<strong>$'+c.pledged.toLocaleString()+'</strong><div style="font-size:12px;color:var(--muted)">pledged</div>';
        const right = document.createElement('div'); right.style.textAlign='right'; right.innerHTML = '<div style="font-weight:700">'+pct(c.pledged, c.goal)+'%</div><div style="font-size:12px;color:var(--muted)">of $'+c.goal.toLocaleString()+'</div>';
        info.appendChild(left); info.appendChild(right);
        const cta = document.createElement('div'); cta.className='cta'; const btn1=document.createElement('button'); btn1.className='btn btn-primary'; btn1.innerText='Back this'; btn1.onclick=()=>alert('Backing: '+c.title); const btn2=document.createElement('button'); btn2.className='btn btn-ghost'; btn2.innerText='Share'; btn2.onclick=()=>navigator.clipboard?.writeText(location.href+'#campaign='+c.id).then(()=>alert('Link copied'));
        cta.appendChild(btn1); cta.appendChild(btn2);

        card.appendChild(img);
        card.appendChild(h);
        card.appendChild(m);
        card.appendChild(prog);
        card.appendChild(info);
        card.appendChild(cta);
        el.appendChild(card);
      });
    }
    renderCards(sample);

    function doSearch(){
      const q = document.getElementById('q').value.trim().toLowerCase();
      if(!q){ renderCards(sample); return; }
      const filtered = sample.filter(s => s.title.toLowerCase().includes(q) || s.author.toLowerCase().includes(q));
      renderCards(filtered);
    }

    /* --------------------
       Product modal functions (NEW)
       -------------------- */
    function openProductModal(item){
      // populate modal content
      const img = document.getElementById('productModalImage');
      const title = document.getElementById('productModalTitle');
      const author = document.getElementById('productModalAuthor');
      const stats = document.getElementById('productModalStats');

      img.src = item.image;
      title.innerText = item.title;
      // store id on dataset for share button
      title.dataset.id = item.id;
      author.innerText = 'By ' + item.author;
      stats.innerText = '$' + item.pledged.toLocaleString() + ' pledged of $' + item.goal.toLocaleString() + ' goal • ' + item.backers + ' backers';

      const modal = document.getElementById('productModal');
      modal.classList.add('active');

      // trap focus briefly (basic)
      const closeBtn = modal.querySelector('.close');
      closeBtn?.focus();
    }

    function closeProductModal(){
      const modal = document.getElementById('productModal');
      modal.classList.remove('active');
    }

    // close when clicking overlay background
    document.getElementById('productModal').addEventListener('click', function(e){
      if(e.target === this) closeProductModal();
    });

    /* --------------------
       Existing modal/login/register functions
       -------------------- */
    function openLoginModal(){ document.getElementById('loginModal').classList.add('active'); }
    function openRegisterModal(){ document.getElementById('registerModal').classList.add('active'); }
    function closeModal(id){ document.getElementById(id).classList.remove('active'); }
    function switchToRegister(){ closeModal('loginModal'); openRegisterModal(); }
    function switchToLogin(){ closeModal('registerModal'); openLoginModal(); }

    function register(){
      const name = document.getElementById('regName').value;
      const email= document.getElementById('regEmail').value;
      const pass = document.getElementById('regPassword').value;
      if(!name || !email || !pass){ alert('Please fill all fields'); return; }
      localStorage.setItem('user', JSON.stringify({ name, email }));
      alert('Registration successful! Logged in as '+name);
      closeModal('registerModal');
      updateAccount();
    }
    function login(){
      const email = document.getElementById('loginEmail').value;
      const pass = document.getElementById('loginPassword').value;
      const user = JSON.parse(localStorage.getItem('user')||'null');
      if(user && user.email === email){ alert('Welcome back '+user.name+'!'); closeModal('loginModal'); updateAccount(); }
      else { alert('User not found. Please register.'); }
    }
    function updateAccount(){
      const user = JSON.parse(localStorage.getItem('user')||'null');
      const rightDiv = document.querySelector('.topbar .right div:first-child');
      if(user) rightDiv.innerHTML = 'Hello, <strong>'+user.name+'</strong>';
      else     rightDiv.innerHTML = 'Account';
    }
    updateAccount();
  </script>
</body>
</html>
